(function(t){function e(e){for(var n,i,c=e[0],s=e[1],u=e[2],l=0,f=[];l<c.length;l++)i=c[l],r[i]&&f.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);p&&p(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,c=1;c<o.length;c++){var s=o[c];0!==r[s]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},r={app:0},a=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=s;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"1a64":function(t,e,o){},"3e69":function(t,e,o){},4760:function(t,e,o){"use strict";var n=o("1a64"),r=o.n(n);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),r=o("e11e"),a=o.n(r),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[t._m(0),o("main",[o("router-view")],1)])},c=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{attrs:{id:"nav"}},[o("h2",[t._v("Safety in Numbers")])])}],s=o("2877"),u={},p=Object(s["a"])(u,i,c,!1,null,null,null);p.options.__file="App.vue";var l=p.exports,f=o("8c4f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[t.loading?o("h1",[t._v("Just piecing things together please hold...")]):o("div",[t.erroring?o("div",[o("h2",[t._v("You need to enable location to use this app!")])]):o("div",[o(t.currComp,{tag:"component",attrs:{coords:t.coords},on:{changeComp:t.changeComp}})],1)]),o("div")])},m=[],h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"map"},[o("l-map",{attrs:{zoom:t.zoom,center:t.center},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.reports,function(e,n){return o("l-marker",{key:e,attrs:{"lat-lng":t.convert(n)}})})],2),o("div",{staticClass:"button-area"},[o("button",{on:{click:function(e){t.$emit("changeComp","report-form")}}},[t._v("Report a Fire")])])],1)},v=[],g=o("c93e"),b=o("2f62"),_=o("458e"),y=(o("6cc5"),{name:"Map",props:{coords:{type:Object,default:function(){return{lat:0,lng:0}}}},components:{LMap:_["LMap"],LTileLayer:_["LTileLayer"],LMarker:_["LMarker"]},data:function(){return{center:a.a.latLng(this.coords.lat,this.coords.lng),zoom:13,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:a.a.latLng(this.coords.lat,this.coords.lng)}},computed:Object(g["a"])({},Object(b["c"])(["reports"])),methods:Object(g["a"])({},Object(b["b"])(["fetchReports"]),{convert:function(t){return a.a.latlng(t.lat,t.lng)},zoomUpdate:function(t){this.zoom=t},centerUpdate:function(t){this.center=t},popupClick:function(){console.log("Popup Click!")}}),mounted:function(){this.fetchReports()}}),O=y,C=(o("af6b"),Object(s["a"])(O,h,v,!1,null,"cbe53cdc",null));C.options.__file="Map.vue";var L=C.exports,j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("You must enable location sharing to use this application.")]),o("h3",[t._v("Thank you")])])}],w={},R=Object(s["a"])(w,j,k,!1,null,null,null);R.options.__file="EnableLocation.vue";var x=R.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submitData(e)}}},[o("h3",[t._v("Submit Your Report")]),o("p",[t._v("Latitude:  "+t._s(t.coords.lat))]),o("p",[t._v("Longitude: "+t._s(t.coords.lng)+" ")]),o("div",[t._v(" "+t._s(t.userTime)+" ")]),o("button",{attrs:{type:"submit"}},[t._v("Submit")]),o("button",{attrs:{type:"button"},on:{click:function(e){t.$emit("changeComp","leaf-map")}}},[t._v("Cancel")])])])},M=[],U={name:"ReportForm",props:{coords:{type:Object,default:function(){return{lat:0,lng:0}}},currComp:"report-form"},data:function(){return{userLat:0,userLng:0,userTime:new Date,runCancel:"report-form"}},methods:Object(g["a"])({},Object(b["b"])(["saveReport"]),{zoomUpdate:function(t){this.zoom=t},centerUpdate:function(t){this.center=t},submitData:function(){this.userLat=this.coords.lat,this.userLng=this.coords.lng,this.saveReport({lat:this.userLat,lng:this.userLng})}})},P=U,S=(o("4760"),Object(s["a"])(P,z,M,!1,null,"989dbd1e",null));S.options.__file="ReportForm.vue";var $=S.exports,E={name:"home",components:{leafMap:L,enableLocation:x,reportForm:$},data:function(){return{coords:{},currComp:"Loading",loading:!0,erroring:!1}},methods:{zoomUpdate:function(t){this.zoom=t},centerUpdate:function(t){this.center=t},popupClick:function(){console.log("Popup Click!")},updatePos:function(t){var e=t.coords;this.coords={lat:e.latitude,lng:e.longitude},this.currComp="leaf-map",this.loading=!1},noLocation:function(){this.currComp="enable-location",this.loading=!1,this.erroring=!0},startReport:function(){this.currComp="report-form",this.message="lets crowdshare some flames",console.log("report a fire button clicked")},changeComp:function(t){this.currComp=t}},mounted:function(){window.navigator.geolocation.getCurrentPosition(this.updatePos,this.noLocation)}},T=E,D=Object(s["a"])(T,d,m,!1,null,null,null);D.options.__file="Home.vue";var F=D.exports;n["a"].use(f["a"]);var I=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:F}]}),J=o("fe1f"),Y=o.n(J);n["a"].use(b["a"]);var A=new b["a"].Store({state:{reports:[]},mutations:{setReports:function(t,e){t.reports=e},addReport:function(t,e){t.reports=t.reports.concat(e)}},actions:{fetchReports:function(t){var e=t.commit;Y.a.get("https://safetyinapi.herokuapp.com/reports").then(function(t){var o=t.data;return e("setReports",o.reports)})},saveReport:function(t,e){var o=t.commit;Y.a.post("https://safetyinapi.herokuapp.com/report",e).then(function(t){var e=t.data;return o("addReport",e.report)}).catch(console.error)},removeReport:function(t,e){var o=t.commit;Y.a.delete("https://safetyinapi.herokuapp.com/reports",e).then(function(t){var e=t.data;return o("setReports",e.reports)})}}});o("adca");delete a.a.Icon.Default.prototype._getIconUrl,a.a.Icon.Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("6397"),shadowUrl:o("e2b9")}),n["a"].config.productionTip=!1,new n["a"]({router:I,store:A,render:function(t){return t(l)}}).$mount("#app")},af6b:function(t,e,o){"use strict";var n=o("3e69"),r=o.n(n);r.a}});
//# sourceMappingURL=app.addcfa40.js.map